{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/courses.service\";\nimport * as i2 from \"../../user/services/user-store.service\";\nimport * as i3 from \"@angular/router\";\nexport class CoursesComponent {\n  constructor(coursesService, userStore, router) {\n    this.coursesService = coursesService;\n    this.userStore = userStore;\n    this.router = router;\n    this.courses = [];\n    this.isAdmin = false;\n    this.searchValue = \"\";\n  }\n  ngOnInit() {\n    this.loadCourses();\n    this.isAdmin = this.userStore.isAdmin; // Get admin status\n  }\n\n  loadCourses() {\n    this.coursesService.getAll().subscribe(data => {\n      this.courses = data;\n    });\n  }\n  filterCourses() {\n    this.coursesService.filterCourses(this.searchValue).subscribe(filteredCourses => {\n      this.courses = filteredCourses;\n    });\n  }\n  editCourse(courseId) {\n    this.router.navigate([\"/course/edit\", courseId]);\n  }\n  showCourse(courseId) {\n    this.router.navigate([\"/course\", courseId]);\n  }\n  deleteCourse(courseId) {\n    this.coursesService.deleteCourse(courseId).subscribe(() => {\n      this.loadCourses(); // Refresh the list after deletion\n    });\n  }\n}\n\nCoursesComponent.ɵfac = function CoursesComponent_Factory(t) {\n  return new (t || CoursesComponent)(i0.ɵɵdirectiveInject(i1.CoursesService), i0.ɵɵdirectiveInject(i2.UserStoreService), i0.ɵɵdirectiveInject(i3.Router));\n};\nCoursesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CoursesComponent,\n  selectors: [[\"app-courses\"]],\n  decls: 0,\n  vars: 0,\n  template: function CoursesComponent_Template(rf, ctx) {},\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;AAWA,OAAM,MAAOA,gBAAgB;EAKzBC,YACYC,cAA8B,EAC9BC,SAA2B,EAC3BC,MAAc;IAFd,mBAAc,GAAdF,cAAc;IACd,cAAS,GAATC,SAAS;IACT,WAAM,GAANC,MAAM;IAPlB,YAAO,GAAa,EAAE;IACtB,YAAO,GAAY,KAAK;IACxB,gBAAW,GAAW,EAAE;EAMrB;EAEHC,QAAQ;IACJ,IAAI,CAACC,WAAW,EAAE;IAClB,IAAI,CAACC,OAAO,GAAG,IAAI,CAACJ,SAAS,CAACI,OAAO,CAAC,CAAC;EAC3C;;EAEAD,WAAW;IACP,IAAI,CAACJ,cAAc,CAACM,MAAM,EAAE,CAACC,SAAS,CAAEC,IAAc,IAAI;MACtD,IAAI,CAACC,OAAO,GAAGD,IAAI;IACvB,CAAC,CAAC;EACN;EAEAE,aAAa;IACT,IAAI,CAACV,cAAc,CACdU,aAAa,CAAC,IAAI,CAACC,WAAW,CAAC,CAC/BJ,SAAS,CAAEK,eAAe,IAAI;MAC3B,IAAI,CAACH,OAAO,GAAGG,eAAe;IAClC,CAAC,CAAC;EACV;EAEAC,UAAU,CAACC,QAAgB;IACvB,IAAI,CAACZ,MAAM,CAACa,QAAQ,CAAC,CAAC,cAAc,EAAED,QAAQ,CAAC,CAAC;EACpD;EAEAE,UAAU,CAACF,QAAgB;IACvB,IAAI,CAACZ,MAAM,CAACa,QAAQ,CAAC,CAAC,SAAS,EAAED,QAAQ,CAAC,CAAC;EAC/C;EAEAG,YAAY,CAACH,QAAgB;IACzB,IAAI,CAACd,cAAc,CAACiB,YAAY,CAACH,QAAQ,CAAC,CAACP,SAAS,CAAC,MAAK;MACtD,IAAI,CAACH,WAAW,EAAE,CAAC,CAAC;IACxB,CAAC,CAAC;EACN;;;AA1CSN,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAAoB;EAAAC;EAAAC;EAAAC;EAAAC;AAAA","names":["CoursesComponent","constructor","coursesService","userStore","router","ngOnInit","loadCourses","isAdmin","getAll","subscribe","data","courses","filterCourses","searchValue","filteredCourses","editCourse","courseId","navigate","showCourse","deleteCourse","selectors","decls","vars","template","styles"],"sourceRoot":"","sources":["C:\\Users\\Duev\\Desktop\\EPAM-ACADEMY\\FRONT-END-SPECIALIZATION\\ANGULAR\\angular-fundamentals-template\\src\\app\\features\\courses\\courses.component.ts"],"sourcesContent":["import { Component, OnInit } from \"@angular/core\";\r\nimport { CoursesService } from \"../../services/courses.service\";\r\nimport { UserStoreService } from \"../../user/services/user-store.service\";\r\nimport { Router } from \"@angular/router\";\r\nimport { Course } from \"../../models\"; // Adjust the import based on your file structure\r\n\r\n@Component({\r\n    selector: \"app-courses\",\r\n    templateUrl: \"./courses.component.html\",\r\n    styleUrls: [\"./courses.component.scss\"],\r\n})\r\nexport class CoursesComponent implements OnInit {\r\n    courses: Course[] = [];\r\n    isAdmin: boolean = false;\r\n    searchValue: string = \"\";\r\n\r\n    constructor(\r\n        private coursesService: CoursesService,\r\n        private userStore: UserStoreService,\r\n        private router: Router\r\n    ) {}\r\n\r\n    ngOnInit() {\r\n        this.loadCourses();\r\n        this.isAdmin = this.userStore.isAdmin; // Get admin status\r\n    }\r\n\r\n    loadCourses() {\r\n        this.coursesService.getAll().subscribe((data: Course[]) => {\r\n            this.courses = data;\r\n        });\r\n    }\r\n\r\n    filterCourses() {\r\n        this.coursesService\r\n            .filterCourses(this.searchValue)\r\n            .subscribe((filteredCourses) => {\r\n                this.courses = filteredCourses;\r\n            });\r\n    }\r\n\r\n    editCourse(courseId: string) {\r\n        this.router.navigate([\"/course/edit\", courseId]);\r\n    }\r\n\r\n    showCourse(courseId: string) {\r\n        this.router.navigate([\"/course\", courseId]);\r\n    }\r\n\r\n    deleteCourse(courseId: string) {\r\n        this.coursesService.deleteCourse(courseId).subscribe(() => {\r\n            this.loadCourses(); // Refresh the list after deletion\r\n        });\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}