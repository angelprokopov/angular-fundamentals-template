{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/courses.service\";\nimport * as i2 from \"../../user/services/user-store.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction CoursesComponent_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function CoursesComponent_button_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.router.navigate([\"/course/add\"]));\n    });\n    i0.ɵɵtext(1, \"Add Course\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CoursesComponent_li_6_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function CoursesComponent_li_6_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const course_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.editCourse(course_r4.id));\n    });\n    i0.ɵɵtext(1, \"Edit\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CoursesComponent_li_6_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function CoursesComponent_li_6_button_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const course_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.deleteCourse(course_r4.id));\n    });\n    i0.ɵɵtext(1, \"Delete\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CoursesComponent_li_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\")(1, \"h3\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function CoursesComponent_li_6_Template_button_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const course_r4 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.showCourse(course_r4.id));\n    });\n    i0.ɵɵtext(6, \"Show\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, CoursesComponent_li_6_button_7_Template, 2, 0, \"button\", 1);\n    i0.ɵɵtemplate(8, CoursesComponent_li_6_button_8_Template, 2, 0, \"button\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const course_r4 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(course_r4.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(course_r4.description);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isAdmin);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isAdmin);\n  }\n}\nexport class CoursesComponent {\n  constructor(coursesService, userStore, router) {\n    this.coursesService = coursesService;\n    this.userStore = userStore;\n    this.router = router;\n    this.courses = [];\n    this.isAdmin = false;\n    this.searchValue = \"\";\n  }\n  ngOnInit() {\n    this.loadCourses();\n    this.isAdmin = this.userStore.isAdmin; // Get admin status\n  }\n\n  loadCourses() {\n    this.coursesService.getAll().subscribe(data => {\n      this.courses = data;\n    });\n  }\n  filterCourses() {\n    this.coursesService.filterCourses(this.searchValue).subscribe(filteredCourses => {\n      this.courses = filteredCourses;\n    });\n  }\n  editCourse(courseId) {\n    this.router.navigate([\"/course/edit\", courseId]);\n  }\n  showCourse(courseId) {\n    this.router.navigate([\"/course\", courseId]);\n  }\n  deleteCourse(courseId) {\n    this.coursesService.deleteCourse(courseId).subscribe(() => {\n      this.loadCourses(); // Refresh the list after deletion\n    });\n  }\n}\n\nCoursesComponent.ɵfac = function CoursesComponent_Factory(t) {\n  return new (t || CoursesComponent)(i0.ɵɵdirectiveInject(i1.CoursesService), i0.ɵɵdirectiveInject(i2.UserStoreService), i0.ɵɵdirectiveInject(i3.Router));\n};\nCoursesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CoursesComponent,\n  selectors: [[\"app-courses\"]],\n  decls: 7,\n  vars: 3,\n  consts: [[\"type\", \"text\", \"placeholder\", \"Search courses...\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [3, \"click\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"]],\n  template: function CoursesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"h1\");\n      i0.ɵɵtext(2, \"Courses\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"input\", 0);\n      i0.ɵɵlistener(\"ngModelChange\", function CoursesComponent_Template_input_ngModelChange_3_listener($event) {\n        return ctx.searchValue = $event;\n      })(\"input\", function CoursesComponent_Template_input_input_3_listener() {\n        return ctx.filterCourses();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(4, CoursesComponent_button_4_Template, 2, 0, \"button\", 1);\n      i0.ɵɵelementStart(5, \"ul\");\n      i0.ɵɵtemplate(6, CoursesComponent_li_6_Template, 9, 4, \"li\", 2);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.searchValue);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isAdmin);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.courses);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IASEA,iCAAmE;IAA3CA;MAAAA;MAAA;MAAA,OAASA,uCAAiB,aAAa,EAAE;IAAA,EAAC;IAACA,0BAAU;IAAAA,iBAAS;;;;;;IAOlFA,iCAAwD;IAAhCA;MAAAA;MAAA;MAAA;MAAA,OAASA,8CAAqB;IAAA,EAAC;IAACA,oBAAI;IAAAA,iBAAS;;;;;;IACrEA,iCAA0D;IAAlCA;MAAAA;MAAA;MAAA;MAAA,OAASA,iDAAuB;IAAA,EAAC;IAACA,sBAAM;IAAAA,iBAAS;;;;;;IAL3EA,0BAAmC;IAC7BA,YAAkB;IAAAA,iBAAK;IAC3BA,yBAAG;IAAAA,YAAwB;IAAAA,iBAAI;IAC/BA,iCAAwC;IAAhCA;MAAA;MAAA;MAAA;MAAA,OAASA,+CAAqB;IAAA,EAAC;IAACA,oBAAI;IAAAA,iBAAS;IACrDA,4EAAqE;IACrEA,4EAAyE;IAC3EA,iBAAK;;;;;IALCA,eAAkB;IAAlBA,qCAAkB;IACnBA,eAAwB;IAAxBA,2CAAwB;IAElBA,eAAa;IAAbA,qCAAa;IACbA,eAAa;IAAbA,qCAAa;;;ACN5B,OAAM,MAAOC,gBAAgB;EAKzBC,YACYC,cAA8B,EAC9BC,SAA2B,EAC3BC,MAAc;IAFd,mBAAc,GAAdF,cAAc;IACd,cAAS,GAATC,SAAS;IACT,WAAM,GAANC,MAAM;IAPlB,YAAO,GAAa,EAAE;IACtB,YAAO,GAAY,KAAK;IACxB,gBAAW,GAAW,EAAE;EAMrB;EAEHC,QAAQ;IACJ,IAAI,CAACC,WAAW,EAAE;IAClB,IAAI,CAACC,OAAO,GAAG,IAAI,CAACJ,SAAS,CAACI,OAAO,CAAC,CAAC;EAC3C;;EAEAD,WAAW;IACP,IAAI,CAACJ,cAAc,CAACM,MAAM,EAAE,CAACC,SAAS,CAAEC,IAAc,IAAI;MACtD,IAAI,CAACC,OAAO,GAAGD,IAAI;IACvB,CAAC,CAAC;EACN;EAEAE,aAAa;IACT,IAAI,CAACV,cAAc,CACdU,aAAa,CAAC,IAAI,CAACC,WAAW,CAAC,CAC/BJ,SAAS,CAAEK,eAAe,IAAI;MAC3B,IAAI,CAACH,OAAO,GAAGG,eAAe;IAClC,CAAC,CAAC;EACV;EAEAC,UAAU,CAACC,QAAgB;IACvB,IAAI,CAACZ,MAAM,CAACa,QAAQ,CAAC,CAAC,cAAc,EAAED,QAAQ,CAAC,CAAC;EACpD;EAEAE,UAAU,CAACF,QAAgB;IACvB,IAAI,CAACZ,MAAM,CAACa,QAAQ,CAAC,CAAC,SAAS,EAAED,QAAQ,CAAC,CAAC;EAC/C;EAEAG,YAAY,CAACH,QAAgB;IACzB,IAAI,CAACd,cAAc,CAACiB,YAAY,CAACH,QAAQ,CAAC,CAACP,SAAS,CAAC,MAAK;MACtD,IAAI,CAACH,WAAW,EAAE,CAAC,CAAC;IACxB,CAAC,CAAC;EACN;;;AA1CSN,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAAoB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDX7BzB,2BAAK;MACCA,uBAAO;MAAAA,iBAAK;MAChBA,gCAKE;MAHAA;QAAA;MAAA,EAAyB;QAAA,OAChB0B,mBAAe;MAAA,EADC;MAF3B1B,iBAKE;MAEFA,uEAAsF;MAEtFA,0BAAI;MACFA,+DAMK;MACPA,iBAAK;;;MAfHA,eAAyB;MAAzBA,yCAAyB;MAKlBA,eAAa;MAAbA,kCAAa;MAGGA,eAAU;MAAVA,qCAAU","names":["i0","CoursesComponent","constructor","coursesService","userStore","router","ngOnInit","loadCourses","isAdmin","getAll","subscribe","data","courses","filterCourses","searchValue","filteredCourses","editCourse","courseId","navigate","showCourse","deleteCourse","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Duev\\Desktop\\EPAM-ACADEMY\\FRONT-END-SPECIALIZATION\\ANGULAR\\angular-fundamentals-template\\src\\app\\features\\courses\\courses.component.html","C:\\Users\\Duev\\Desktop\\EPAM-ACADEMY\\FRONT-END-SPECIALIZATION\\ANGULAR\\angular-fundamentals-template\\src\\app\\features\\courses\\courses.component.ts"],"sourcesContent":["<div>\r\n  <h1>Courses</h1>\r\n  <input \r\n    type=\"text\" \r\n    [(ngModel)]=\"searchValue\" \r\n    (input)=\"filterCourses()\" \r\n    placeholder=\"Search courses...\" \r\n  />\r\n  \r\n  <button *ngIf=\"isAdmin\" (click)=\"router.navigate(['/course/add'])\">Add Course</button>\r\n\r\n  <ul>\r\n    <li *ngFor=\"let course of courses\">\r\n      <h3>{{ course.title }}</h3>\r\n      <p>{{ course.description }}</p>\r\n      <button (click)=\"showCourse(course.id)\">Show</button>\r\n      <button *ngIf=\"isAdmin\" (click)=\"editCourse(course.id)\">Edit</button>\r\n      <button *ngIf=\"isAdmin\" (click)=\"deleteCourse(course.id)\">Delete</button>\r\n    </li>\r\n  </ul>\r\n</div>","import { Component, OnInit } from \"@angular/core\";\r\nimport { CoursesService } from \"../../services/courses.service\";\r\nimport { UserStoreService } from \"../../user/services/user-store.service\";\r\nimport { Router } from \"@angular/router\";\r\nimport { Course } from \"../../models\"; // Adjust the import based on your file structure\r\n\r\n@Component({\r\n    selector: \"app-courses\",\r\n    templateUrl: \"./courses.component.html\",\r\n    styleUrls: [\"./courses.component.scss\"],\r\n})\r\nexport class CoursesComponent implements OnInit {\r\n    courses: Course[] = [];\r\n    isAdmin: boolean = false;\r\n    searchValue: string = \"\";\r\n\r\n    constructor(\r\n        private coursesService: CoursesService,\r\n        private userStore: UserStoreService,\r\n        private router: Router\r\n    ) {}\r\n\r\n    ngOnInit() {\r\n        this.loadCourses();\r\n        this.isAdmin = this.userStore.isAdmin; // Get admin status\r\n    }\r\n\r\n    loadCourses() {\r\n        this.coursesService.getAll().subscribe((data: Course[]) => {\r\n            this.courses = data;\r\n        });\r\n    }\r\n\r\n    filterCourses() {\r\n        this.coursesService\r\n            .filterCourses(this.searchValue)\r\n            .subscribe((filteredCourses) => {\r\n                this.courses = filteredCourses;\r\n            });\r\n    }\r\n\r\n    editCourse(courseId: string) {\r\n        this.router.navigate([\"/course/edit\", courseId]);\r\n    }\r\n\r\n    showCourse(courseId: string) {\r\n        this.router.navigate([\"/course\", courseId]);\r\n    }\r\n\r\n    deleteCourse(courseId: string) {\r\n        this.coursesService.deleteCourse(courseId).subscribe(() => {\r\n            this.loadCourses(); // Refresh the list after deletion\r\n        });\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}