{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/courses.service\";\nimport * as i2 from \"@angular/router\";\nfunction AddCourseComponent_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 23);\n    i0.ɵɵtext(1, \" Title is required and must be at least 2 characters. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddCourseComponent_span_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 24);\n    i0.ɵɵtext(1, \" Description is required and must be at least 2 characters. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddCourseComponent_span_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 25);\n    i0.ɵɵtext(1, \" New author should contain only Latin letters and numbers and be at least 2 characters. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddCourseComponent_li_31_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 26);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function AddCourseComponent_li_31_Template_button_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const i_r7 = restoredCtx.index;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.addExistingAuthor(i_r7));\n    });\n    i0.ɵɵtext(3, \" Add Author \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const authorGroup_r6 = ctx.$implicit;\n    const i_r7 = ctx.index;\n    let tmp_1_0;\n    i0.ɵɵproperty(\"formGroupName\", i_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", (tmp_1_0 = authorGroup_r6.get(\"name\")) == null ? null : tmp_1_0.value, \" \");\n  }\n}\nfunction AddCourseComponent_li_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 26);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function AddCourseComponent_li_36_Template_button_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const i_r11 = restoredCtx.index;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.removeCourseAuthor(i_r11));\n    });\n    i0.ɵɵtext(3, \" Delete Author \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const courseAuthorGroup_r10 = ctx.$implicit;\n    const i_r11 = ctx.index;\n    let tmp_1_0;\n    i0.ɵɵproperty(\"formGroupName\", i_r11);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", (tmp_1_0 = courseAuthorGroup_r10.get(\"name\")) == null ? null : tmp_1_0.value, \" \");\n  }\n}\nfunction AddCourseComponent_span_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 28);\n    i0.ɵɵtext(1, \" Duration is required and must be non-negative. \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class AddCourseComponent {\n  constructor(coursesService, router) {\n    this.coursesService = coursesService;\n    this.router = router;\n    this.course = {\n      title: '',\n      description: '',\n      creationDate: new Date().toISOString().split('T')[0],\n      duration: 0,\n      authors: [],\n      id: '' // This will be generated on creation\n    };\n  }\n\n  addCourse() {\n    this.coursesService.createCourse(this.course).subscribe(() => {\n      this.router.navigate(['/courses']); // Redirect to courses page after adding\n    });\n  }\n}\n\nAddCourseComponent.ɵfac = function AddCourseComponent_Factory(t) {\n  return new (t || AddCourseComponent)(i0.ɵɵdirectiveInject(i1.CoursesService), i0.ɵɵdirectiveInject(i2.Router));\n};\nAddCourseComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddCourseComponent,\n  selectors: [[\"app-add-course\"]],\n  decls: 49,\n  vars: 8,\n  consts: [[3, \"formGroup\", \"ngSubmit\"], [1, \"app-plate\"], [1, \"course\"], [1, \"form__control\"], [\"for\", \"title\"], [\"type\", \"text\", \"id\", \"title\", \"formControlName\", \"title\", \"placeholder\", \"Input text\"], [\"id\", \"titleErrorMessage\", \"class\", \"text-danger\", 4, \"ngIf\"], [\"for\", \"description\"], [\"id\", \"description\", \"formControlName\", \"description\", \"placeholder\", \"Input text\", \"rows\", \"4\", \"cols\", \"5\"], [\"id\", \"descriptionErrorMessage\", \"class\", \"text-danger\", 4, \"ngIf\"], [1, \"separator\"], [1, \"course__flex\"], [\"formGroupName\", \"newAuthor\", 2, \"flex\", \"1\", \"margin-right\", \"10px\"], [\"type\", \"text\", \"id\", \"author\", \"formControlName\", \"name\", \"placeholder\", \"Input Author Name\"], [\"type\", \"button\", \"id\", \"createAuthor\", 3, \"click\"], [\"id\", \"authorErrorMessage\", \"class\", \"text-danger\", 4, \"ngIf\"], [1, \"course__authors\"], [3, \"formGroupName\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"number\", \"id\", \"duration\", \"formControlName\", \"duration\", \"placeholder\", \"Input duration\"], [1, \"course__duration\"], [\"id\", \"durationErrorMessage\", \"class\", \"text-danger\", 4, \"ngIf\"], [1, \"form__action\"], [\"type\", \"submit\"], [\"id\", \"titleErrorMessage\", 1, \"text-danger\"], [\"id\", \"descriptionErrorMessage\", 1, \"text-danger\"], [\"id\", \"authorErrorMessage\", 1, \"text-danger\"], [3, \"formGroupName\"], [\"type\", \"button\", 3, \"click\"], [\"id\", \"durationErrorMessage\", 1, \"text-danger\"]],\n  template: function AddCourseComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Create / Edit Course\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"form\", 0);\n      i0.ɵɵlistener(\"ngSubmit\", function AddCourseComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2)(5, \"h3\");\n      i0.ɵɵtext(6, \"Main Info\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 3)(8, \"label\", 4);\n      i0.ɵɵtext(9, \"Title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(10, \"input\", 5);\n      i0.ɵɵtemplate(11, AddCourseComponent_span_11_Template, 2, 0, \"span\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 3)(13, \"label\", 7);\n      i0.ɵɵtext(14, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(15, \"textarea\", 8);\n      i0.ɵɵtemplate(16, AddCourseComponent_span_16_Template, 2, 0, \"span\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"div\", 10);\n      i0.ɵɵelementStart(18, \"h3\");\n      i0.ɵɵtext(19, \"Authors\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"div\", 3)(21, \"div\", 11)(22, \"div\", 12);\n      i0.ɵɵelement(23, \"input\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function AddCourseComponent_Template_button_click_24_listener() {\n        return ctx.addNewAuthor();\n      });\n      i0.ɵɵtext(25, \" Create Author \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(26, AddCourseComponent_span_26_Template, 2, 0, \"span\", 15);\n      i0.ɵɵelementStart(27, \"div\", 16)(28, \"h4\");\n      i0.ɵɵtext(29, \"Available Authors\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"ul\");\n      i0.ɵɵtemplate(31, AddCourseComponent_li_31_Template, 4, 2, \"li\", 17);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(32, \"div\", 16)(33, \"h4\");\n      i0.ɵɵtext(34, \"Course Authors\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"ul\");\n      i0.ɵɵtemplate(36, AddCourseComponent_li_36_Template, 4, 2, \"li\", 17);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(37, \"div\", 10);\n      i0.ɵɵelementStart(38, \"h3\");\n      i0.ɵɵtext(39, \"Duration\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"div\", 3)(41, \"div\", 11);\n      i0.ɵɵelement(42, \"input\", 18);\n      i0.ɵɵelementStart(43, \"div\", 19);\n      i0.ɵɵtext(44);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(45, AddCourseComponent_span_45_Template, 2, 0, \"span\", 20);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"div\", 21)(47, \"button\", 22);\n      i0.ɵɵtext(48, \"Submit\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      let tmp_3_0;\n      let tmp_6_0;\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.courseForm);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngIf\", ctx.isControlInvalid(ctx.courseForm.get(\"title\")));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.isControlInvalid(ctx.courseForm.get(\"description\")));\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngIf\", ctx.isControlInvalid(((tmp_3_0 = ctx.courseForm.get(\"newAuthor\")) == null ? null : tmp_3_0.get(\"name\")) || null));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.authors.controls);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.courseAuthors.controls);\n      i0.ɵɵadvance(8);\n      i0.ɵɵtextInterpolate1(\" Duration: \", (tmp_6_0 = ctx.courseForm.get(\"duration\")) == null ? null : tmp_6_0.value, \" minutes \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isControlInvalid(ctx.courseForm.get(\"duration\")));\n    }\n  },\n  styles: [\"(()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\t\\\"use strict\\\";\\n \\t\\n \\t\\n })()[_ngcontent-%COMP%]\\n;\"]\n});","map":{"version":3,"mappings":"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","names":["i0","AddCourseComponent","constructor","coursesService","router","title","description","creationDate","Date","toISOString","split","duration","authors","id","addCourse","createCourse","course","subscribe","navigate","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Duev\\Desktop\\EPAM-ACADEMY\\FRONT-END-SPECIALIZATION\\ANGULAR\\angular-fundamentals-template\\src\\app\\shared\\components\\course-form\\course-form.component.html","C:\\Users\\Duev\\Desktop\\EPAM-ACADEMY\\FRONT-END-SPECIALIZATION\\ANGULAR\\angular-fundamentals-template\\src\\app\\shared\\components\\course-form\\course-form.component.ts"],"sourcesContent":["<h2>Create / Edit Course</h2>\r\n<form [formGroup]=\"courseForm\" (ngSubmit)=\"onSubmit()\">\r\n  <div class=\"app-plate\">\r\n    <div class=\"course\">\r\n      <!-- Main Info Section -->\r\n      <h3>Main Info</h3>\r\n      <div class=\"form__control\">\r\n        <label for=\"title\">Title</label>\r\n        <!-- Use the name `title` for the form control. -->\r\n        <input type=\"text\" id=\"title\" formControlName=\"title\" placeholder=\"Input text\" />\r\n        <span id=\"titleErrorMessage\" class=\"text-danger\" *ngIf=\"isControlInvalid(courseForm.get('title'))\">\r\n          Title is required and must be at least 2 characters.\r\n        </span>\r\n      </div>\r\n\r\n      <div class=\"form__control\">\r\n        <label for=\"description\">Description</label>\r\n        <!-- Use the name `description` for the form control. -->\r\n        <textarea id=\"description\" formControlName=\"description\" placeholder=\"Input text\" rows=\"4\" cols=\"5\"></textarea>\r\n        <span id=\"descriptionErrorMessage\" class=\"text-danger\" *ngIf=\"isControlInvalid(courseForm.get('description'))\">\r\n          Description is required and must be at least 2 characters.\r\n        </span>\r\n      </div>\r\n\r\n      <div class=\"separator\"></div>\r\n\r\n      <!-- Authors Section -->\r\n      <h3>Authors</h3>\r\n      <div class=\"form__control\">\r\n        <!-- New Author Input -->\r\n        <div class=\"course__flex\">\r\n          <div formGroupName=\"newAuthor\" style=\"flex: 1; margin-right: 10px;\">\r\n            <!-- Use the name `newAuthor` for the form group and `name` for the form control. -->\r\n            <input type=\"text\" id=\"author\" formControlName=\"name\" placeholder=\"Input Author Name\" />\r\n          </div>\r\n          <button type=\"button\" (click)=\"addNewAuthor()\" id=\"createAuthor\">\r\n            Create Author\r\n          </button>\r\n        </div>\r\n        <span id=\"authorErrorMessage\" class=\"text-danger\"\r\n          *ngIf=\"isControlInvalid(courseForm.get('newAuthor')?.get('name') || null)\">\r\n          New author should contain only Latin letters and numbers and be at least 2 characters.\r\n        </span>\r\n\r\n        <!-- Available Authors List -->\r\n        <div class=\"course__authors\">\r\n          <h4>Available Authors</h4>\r\n          <ul>\r\n            <li *ngFor=\"let authorGroup of authors.controls; let i = index\" [formGroupName]=\"i\">\r\n              {{ authorGroup.get('name')?.value }}\r\n              <button type=\"button\" (click)=\"addExistingAuthor(i)\">\r\n                Add Author\r\n              </button>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <!-- Course Authors List -->\r\n        <div class=\"course__authors\">\r\n          <h4>Course Authors</h4>\r\n          <ul>\r\n            <li *ngFor=\"let courseAuthorGroup of courseAuthors.controls; let i = index\" [formGroupName]=\"i\">\r\n              {{ courseAuthorGroup.get('name')?.value }}\r\n              <button type=\"button\" (click)=\"removeCourseAuthor(i)\">\r\n                Delete Author\r\n              </button>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"separator\"></div>\r\n\r\n      <!-- Duration Section -->\r\n      <h3>Duration</h3>\r\n      <div class=\"form__control\">\r\n        <div class=\"course__flex\">\r\n          <!-- Use the name `duration` for the form control. -->\r\n          <input type=\"number\" id=\"duration\" formControlName=\"duration\" placeholder=\"Input duration\" />\r\n          <div class=\"course__duration\">\r\n            Duration: {{ courseForm.get('duration')?.value }} minutes\r\n          </div>\r\n        </div>\r\n        <span id=\"durationErrorMessage\" class=\"text-danger\" *ngIf=\"isControlInvalid(courseForm.get('duration'))\">\r\n          Duration is required and must be non-negative.\r\n        </span>\r\n      </div>\r\n\r\n      <!-- Submit Button -->\r\n      <div class=\"form__action\">\r\n        <button type=\"submit\">Submit</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</form>","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { CoursesService } from '../../../services/courses.service'; // Adjust the import path as necessary\r\nimport { Course } from '../../../models'; // Adjust the import path for your Course model\r\n\r\n@Component({\r\n  selector: 'app-add-course',\r\n  templateUrl: './course-form.component.html',\r\n  styleUrls: ['./add-course.component.scss'],\r\n})\r\nexport class AddCourseComponent {\r\n  course: Course = {\r\n    title: '',\r\n    description: '',\r\n    creationDate: new Date().toISOString().split('T')[0], // Default to today\r\n    duration: 0,\r\n    authors: [],\r\n    id: '' // This will be generated on creation\r\n  };\r\n\r\n  constructor(private coursesService: CoursesService, private router: Router) {}\r\n\r\n  addCourse() {\r\n    this.coursesService.createCourse(this.course).subscribe(() => {\r\n      this.router.navigate(['/courses']); // Redirect to courses page after adding\r\n    });\r\n  }\r\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}